<!DOCTYPE html>
<html class="writer-html5" lang="ja" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>宇宙線を空から降らせる</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
        <script src="../../_static/translations.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="検索" href="../../search.html" />
    <link rel="next" title="（追加予定）" href="../tuika_yotei.html" />
    <link rel="prev" title="電子を水に打ち込む" href="../1_electron/main.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> PHITSの使い方
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../0/main.html">基礎知識（インストール・勉強関連）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../0/main2.html">基礎知識（その他）</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../1_electron/main.html">電子を水に打ち込む</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">宇宙線を空から降らせる</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#main-inp">main.inp</a></li>
<li class="toctree-l2"><a class="reference internal" href="#source-inp">source.inp</a></li>
<li class="toctree-l2"><a class="reference internal" href="#d-xz-inp">2d_xz.inp</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tuika_yotei.html">（追加予定）</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">その他</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tree_others/contact.html">連絡先</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">PHITSの使い方</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a></li>
      <li class="breadcrumb-item active">宇宙線を空から降らせる</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/tree_samples/cosmic/main.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="id1">
<h1>宇宙線を空から降らせる<a class="headerlink" href="#id1" title="この見出しへのパーマリンク"></a></h1>
<ul class="simple">
<li><p>参考</p>
<ul>
<li><p>phits/lecture/advanced/cosmicray</p></li>
<li><p>マニュアル 5.3.19.9 章</p></li>
</ul>
</li>
<li><p>半径200cmの球殻から大気中の宇宙線を2000発降らせている。スペクトルの設定は以下。</p>
<ul>
<li><p>緯度(glat)  = 33   (度)</p></li>
<li><p>経度(glong) = 130  (度)</p></li>
<li><p>高度(alti)  = 0    (km)</p></li>
<li><p>これは佐賀市の場合</p></li>
</ul>
</li>
<li><p>例としてミューオンと中性子だけ降らせている。</p></li>
<li><p>cell=21が地上。22が地下。22は物質番号 -1 を割り当てて下からの成分を完全にカットした。</p></li>
<li><p>鉛ガラス検出器（cell=1）を地上に置いた。</p></li>
</ul>
<hr class="docutils" />
<p><strong>ミューオン</strong> (2d_xz_muon.eps)</p>
<figure class="align-center">
<img alt="../../_images/2d_xz_muon.gif" src="../../_images/2d_xz_muon.gif" />
</figure>
<hr class="docutils" />
<p><strong>中性子</strong> (2d_xz_neutron.eps)</p>
<figure class="align-center">
<img alt="../../_images/2d_xz_neutron.gif" src="../../_images/2d_xz_neutron.gif" />
</figure>
<hr class="docutils" />
<ul class="simple">
<li><p>(energy.eps) 地上(cell=21)における粒子のエネルギー分布。</p></li>
</ul>
<a class="reference internal image-reference" href="../../_images/energy.png"><img alt="../../_images/energy.png" class="align-center" src="../../_images/energy.png" style="width: 400px;" /></a>
<hr class="docutils" />
<ul class="simple">
<li><p>(angle.eps) 地上(cell=21)から地下(22)に入る時の粒子の角度分布。中性子のほうがミューオンよりも角度が大きい。</p></li>
</ul>
<a class="reference internal image-reference" href="../../_images/angle.png"><img alt="../../_images/angle.png" class="align-center" src="../../_images/angle.png" style="width: 400px;" /></a>
<hr class="docutils" />
<ul class="simple">
<li><p>(deposit.eps) 鉛ガラス(cell=1)のエネルギー付与分布。</p></li>
</ul>
<p>統計が少ない。解決方法は例えば</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">maxcas</span></code> を増やして計算回数を上げる</p></li>
<li><p>宇宙線が発生する球殻の半径 <code class="docutils literal notranslate"><span class="pre">c1</span></code> を小さくする</p></li>
<li><p>鉛ガラスを複数置く</p></li>
</ul>
</div></blockquote>
<a class="reference internal image-reference" href="../../_images/deposit.png"><img alt="../../_images/deposit.png" class="align-center" src="../../_images/deposit.png" style="width: 400px;" /></a>
<section id="main-inp">
<h2>main.inp<a class="headerlink" href="#main-inp" title="この見出しへのパーマリンク"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$======================================
[ Parameters ]
 icntl    =           0     # (D=0) 3:ECH 5:NOR 6:SRC 7,8:GSH 11:DSH 12:DUMP
 maxcas   =        2000     # (D=10) number of particles per one batch
 maxbch   =           1     # (D=10) number of batches
 negs     =           2     # (D=-1) =-1:original, =0:No, =1,2:EGS

 e-mode   =           2     # (D=0) 0: Normal, 1: Event generator mode Ver.1, 2: Ver.2
 irqmd    =           1     # (D=0) 0: JQMD legacy version, 1: JQMD-2.0
 mdbatima =        3000     # (D=500) max database size of ATIMA
 maxbnk   =      100000     # (D=10000) maximum bank memory length
 iMeVperU =           1     # (D=0) 0:[MeV] or 1:[MeV/u] is unit of tally output
 esmax    =  100000000.     # (D=1.0e6) max energy/u for charged particle range

$======================================
[ source ]
set:c1[200.0]  $ Source radius [cm]

  totfact =  pi*c1**2       # (D=1.0) global factor

 infl:{source.inp}
      proj =  muon+
 infl:{source.inp}
      proj =  muon-
 infl:{source.inp}
      proj =  neutron

$======================================
[ surface ]
 1  rpp   -6 6   -6 6   0 31.5
 2  so    c1+0.1
 3  pz    -1

$======================================
[ material ]

$ 鉛ガラス（密度 = 5.2g/cm3）
$ [Ref] PERFORMANCE OF THE VENUS LEAD-GLASS CALORIMETER AT TRISTAN
$       Nuclear Instruments and Methods in Physics Research A271 (1988) 432-441
mat[1] K 0.00927418  Na 0.00939653  O 0.605591  Pb 0.154165  Sb 0.0010569  Si 0.220517

$======================================
[ cell ]
  1   1  -5.2   -1        $ 鉛ガラス検出器
 21   0         -2  3 #1  $ 地上
 22  -1         -2 -3     $ 地下
 99  -1          2

$ ======================================
[ t-track ]
 infl:{2d_xz.inp}
     file = 2d_xz_muon.out
     part = (muon+ muon-)
   t-type = 2
     tmin = 0
     tmax = 10
       nt = 20

$ ======================================
[ t-track ]
 infl:{2d_xz.inp}
     file = 2d_xz_neutron.out
     part = neutron
   t-type = 3
     tmin = 1
     tmax = 100000
       nt = 20

$======================================
[ t-track ]
     file = energy.out
     part = muon+ muon- neutron

     mesh = reg            # mesh type is region-wise
      reg = 21

   e-type = 3              # e-mesh is log given by emin, emax and ne
     emin = 1              # minimum value of e-mesh points
     emax = 1.0e+6         # maximum value of e-mesh points
       ne = 60             # number of e-mesh points

     unit = 1              # unit is [1/cm^2/source]
     axis = eng            # axis of output
    gshow = 1              # 0: no 1:bnd, 2:bnd+mat, 3:bnd+reg 4:bnd+lat
   epsout = 1              # (D=0) generate eps file by ANGEL
    y-txt = Flux [1/cm^2/sec]

$======================================
[ t-cross ]
     file = angle.out   # file name of output for the above axis
     part = muon+ muon- neutron

     mesh = reg
      reg = 1 $ number of crossing regions
      non     r-from  r-to  area
        1     21      22    1.0

   e-type = 2            # e-mesh is log given by emin, emax and ne
     emin = 0.0          # minimum value of e-mesh points
     emax = 1.0e10       # maximum value of e-mesh points
       ne = 1            # number of e-mesh points

   a-type = -2           # e-mesh is log given by emin, emax and ne
     amin = 0.0          # minimum value of e-mesh points
     amax = 180.0        # maximum value of e-mesh points
       na = 20           # number of e-mesh points

     unit =    4         # unit is [1/cm^2/sr/source]
     axis =  the         # theta = angle
   output = a-curr       # surface crossing flux
   epsout =    2         # (D=0) generate eps file by ANGEL
 y-txt    = Flux [1/cm^2/sr)/sec]

$======================================
[ t-deposit ]
     file = deposit.out     # file name of output for the above axis
     part =  all muon+ muon-

     mesh =  reg            # mesh type is region-wise
      reg =  1

   e-type =  3
     emin =  1
     emax =  1000
       ne =  60

     unit =  3            # 3: Number [1/source], 4: Number [1/nsec/source]
   output =  deposit        # total deposit energy

     axis =  eng
    gshow =  1
   epsout =  1

$======================================
[ t-cross ]
     file = into_detector.out
     part = all

     mesh = reg
      reg = 1 $ number of crossing regions
      non     r-from  r-to  area
        1     21      1     1.0

 e-type = 2            # e-mesh is log given by emin, emax and ne
   emin = 0           # minimum value of e-mesh points
   emax = 1e+10           # maximum value of e-mesh points
     ne = 1            # number of e-mesh points
   unit = 1            # 1:[1/cm^2/source]
   axis = eng
 output = current            # surface crossing flux

   epsout =    0
     dump =   -12           # (D=0) number of dumped data, &lt;0: ascii, &gt;0: binary
                1   2   3   4   5   6   7   8   9   10   18   19
$ kf x y z u v w e wt time c1 c2 c3 sx sy sz name nocas nobch no
$  1 2 3 4 5 6 7 8  9   10 11 12 13 14 15 16   17    18    19 20
</pre></div>
</div>
</section>
<section id="source-inp">
<h2>source.inp<a class="headerlink" href="#source-inp" title="この見出しへのパーマリンク"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> &lt;source&gt; = 1.0       # should be 1.0 for e-type=25
   s-type =   9       # mono-energetic axial source
       r1 =   c1      # radius of sphere [cm]
       r2 =   c1      # radius of source circle [cm]
      dir =  iso      # inner direction with uniform dis. by analog
   e-type =  25       # Cosmic-ray source
    icenv =   1       # 0&gt;: Terrestiral GCR, D=0: Free-space GCR, &lt;0:Free-space SEP
 solarmod =   0       # Solar activity W-index
 glat  = 33
 glong = 130
  alti = 0 $ km
</pre></div>
</div>
</section>
<section id="d-xz-inp">
<h2>2d_xz.inp<a class="headerlink" href="#d-xz-inp" title="この見出しへのパーマリンク"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ======================================
$ [ t-track ]
$    file = 2d_xz_muon.out
$    part = (muon- muon+)

     mesh =  xyz

   x-type = 2
       nx = 200
     xmin = -c1*1.1
     xmax =  c1*1.1

   y-type = 2
       ny = 1
     ymin = -c1*1.1
     ymax =  c1*1.1

   z-type = 2
       nz = 200
     zmin = -c1*1.1
     zmax =  c1*1.1

   e-type = 2
       ne = 1
     emin = 0
     emax = 1e+10

     unit = 1        $ 1: [1/cm^2/source]
     axis = xz

   epsout = 1
    gshow = 3            # 0: no 1:bnd, 2:bnd+mat, 3:bnd+reg 4:bnd+lat

    z-txt = Flux [/cm2/sec]
$ Rotating figure by 90 degree
     trcl = 0 0 0 0 0 1 0 1 0 1 0 0
    x-txt = x [cm]
    y-txt = z [cm]

</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../1_electron/main.html" class="btn btn-neutral float-left" title="電子を水に打ち込む" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../tuika_yotei.html" class="btn btn-neutral float-right" title="（追加予定）" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Yasuhito Sakaki.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>